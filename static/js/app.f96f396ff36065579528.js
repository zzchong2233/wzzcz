webpackJsonp([1],{"84gu":function(t,e){},HC8U:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(t){s("z62K")},null,null).exports,r=s("/ocq"),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",[s("a",{on:{click:function(e){t.direc("msite",0)}}},[s("svg",{staticClass:"index-footerTabIcon_1EbB8wS"},[s("use",{attrs:{"xlink:href":"#h5-component-index"}})]),t._v(" "),s("span",[t._v("首页")])]),t._v(" "),s("a",{on:{click:function(e){t.direc("discover",1)}}},[s("svg",{staticClass:"index-footerTabIcon_1EbB8wS"},[s("use",{attrs:{"xlink:href":"#h5-component-discoverRegular"}})]),t._v(" "),s("span",[t._v("发现")])]),t._v(" "),s("a",{on:{click:function(e){t.direc("order",2)}}},[s("svg",{staticClass:"index-footerTabIcon_1EbB8wS"},[s("use",{attrs:{"xlink:href":"#h5-component-orderRegular"}})]),t._v(" "),s("span",[t._v("订单")])]),t._v(" "),s("a",{on:{click:function(e){t.direc("profile",3)}}},[s("svg",{staticClass:"index-footerTabIcon_1EbB8wS"},[s("use",{attrs:{"xlink:href":"#h5-component-profileRegular"}})]),t._v(" "),s("span",[t._v("我的")])])])])},staticRenderFns:[]};var o=s("VU/8")({methods:{direc:function(t,e){this.$router.push({path:t})}}},c,!1,function(t){s("bp+O")},"data-v-f65c3878",null).exports,l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"gps"},[e("div",{attrs:{href:""}},[e("div",[e("svg",{staticClass:"index-okfdP_0",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 31"}},[e("path",{attrs:{fill:"#FFF","fill-rule":"evenodd",d:"M22.116 22.601c-2.329 2.804-7.669 7.827-7.669 7.827-.799.762-2.094.763-2.897-.008 0 0-5.26-4.97-7.643-7.796C1.524 19.8 0 16.89 0 13.194 0 5.908 5.82 0 13 0s13 5.907 13 13.195c0 3.682-1.554 6.602-3.884 9.406zM18 13a5 5 0 1 0-10 0 5 5 0 0 0 10 0z"}})]),this._v(" "),e("span",[this._v("未能获取地址")]),this._v(" "),e("svg",{staticClass:"index-2iXz3_0",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 8"}},[e("path",{attrs:{fill:"#FFF","fill-rule":"evenodd",d:"M5.588 6.588c.78.78 2.04.784 2.824 0l5.176-5.176c.78-.78.517-1.412-.582-1.412H.994C-.107 0-.372.628.412 1.412l5.176 5.176z"}})])])])])},staticRenderFns:[]};var v={components:{"ele-gps":s("VU/8")({},l,!1,function(t){s("HC8U")},"data-v-0e4592f0",null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("ele-gps")],1)},staticRenderFns:[]};var d=s("VU/8")(v,u,!1,function(t){s("UVIr")},"data-v-7a31d1e1",null).exports,h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ele-search"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[e("path",{attrs:{"fill-opacity":".38",d:"M14.778 13.732a.739.739 0 1 1-1.056 1.036l-2.515-2.565a.864.864 0 0 1-.01-1.206 4.894 4.894 0 0 0 1.357-3.651c-.126-2.492-2.156-4.52-4.648-4.647a4.911 4.911 0 0 0-5.16 5.163c.126 2.475 2.13 4.496 4.605 4.642.451.026.896-.008 1.326-.1a.739.739 0 0 1 .308 1.446c-.56.12-1.137.164-1.72.13-3.227-.19-5.83-2.815-5.995-6.042a6.39 6.39 0 0 1 6.71-6.715c3.25.165 5.884 2.8 6.05 6.048a6.37 6.37 0 0 1-1.374 4.3l2.12 2.161z"}})]),this._v(" "),e("span",[this._v("搜索饿了么商家、商品名称")])])},staticRenderFns:[]};var f=s("VU/8")({},h,!1,function(t){s("84gu")},"data-v-b8861c0a",null).exports,p=(s("d8/S"),s("clQT"),s("//Fk")),_=s.n(p),m=s("mtWM"),g=s.n(m);function x(t,e,s,a){var n={latitude:t,longitude:e,"extras[]":"activities",terminal:"h5",limit:s,offset:a};return new _.a(function(t,e){g.a.get("https://restapi.ele.me/shopping/restaurants",{params:n}).then(function(e){t(e)}).catch(function(t){e(t)})})}var w=s("Au9i"),y={props:{score:Number,size:Number},computed:{starType:function(){return"star-"+this.size},starClasses:function(){for(var t=Math.floor(2*this.score)/2,e=Math.floor(t),s=t%1!=0,a=[],n=0;n<e;n++)a.push("on");for(s&&a.push("half");a.length<5;)a.push("off");return a}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"star",class:this.starType},this._l(this.starClasses,function(t){return e("span",{staticClass:"star-item",class:t})}))},staticRenderFns:[]};var C=s("VU/8")(y,b,!1,function(t){s("jah8")},"data-v-590caab0",null).exports,M=s("M4fF"),I=s.n(M),k={components:{"ele-tabbar":o,"ele-header":d,"ele-search":f,"ele-star":C},data:function(){return{hotsearch:[],entries:[],restaurant:[],limit:20,offset:0,timer:null,isLoaded:!1}},methods:{actClick:function(t){var e=document.getElementsByClassName("activityBtn")[t];e.classList.contains("activityBtn-active")?(e.classList.remove("activityBtn-active"),e.parentNode.classList.remove("shop-activity-active")):(e.classList.add("activityBtn-active"),e.parentNode.classList.add("shop-activity-active"))},scroll:function(){var t=this,e=e=document.body.scrollTop|document.documentElement.scrollTop;(document.body.scrollHeight|document.documentElement.scrollHeight)==e+window.innerHeight&&(this.isLoaded||(this.isLoaded=!0,x(40.1144418,116.3579348,this.limit,this.offset+=21).then(function(e){t.restaurant.length<=100?(t.restaurant=t.restaurant.concat(e.data),t.isLoaded=!1):alert("你看不够吗?")}).catch(function(){console.log("商家数据拉取失败")})))}},created:function(){var t,e,s,a=this;this.timer=setInterval(this.scroll,1e3),w.Indicator.open({text:"加载中...",spinnerType:"snake"}),setTimeout(function(){w.Indicator.close()},1e4),(t=40.1144418,e=116.3579348,s={latitude:t,longitude:e},new _.a(function(t,e){g.a.get("https://restapi.ele.me/shopping/v3/hot_search_words",{params:s}).then(function(e){t(e)}).catch(function(t){e(t)})})).then(function(t){a.hotsearch=t.data}).catch(function(t){console.log("热搜数据拉取失败")}).then(function(){var t,e,s;(t=40.1144418,e=116.3579348,s={latitude:t,longitude:e,"templates[]":"main_template"},new _.a(function(t,e){g.a.get("https://restapi.ele.me/shopping/v2/entries",{params:s}).then(function(e){t(e)}).catch(function(t){e(t)})})).then(function(t){a.entries=I.a.chunk(t.data[0].entries,8)}).catch(function(t){console.log("分类列表拉取失败")})}).then(function(){x(40.1144418,116.3579348,a.limit,a.offset).then(function(t){a.restaurant=a.restaurant.concat(t.data)}).catch(function(){console.log("商家数据拉取失败")})})},updated:function(){w.Indicator.close()},beforeDestroy:function(){clearInterval(this.timer)},filters:{imgUrl:function(t){var e=t.slice(0,1)+"/"+t.slice(1,3)+"/"+t.slice(3);return"https://fuss10.elemecdn.com/"+e+"."+e.match(/jpeg|jpg|png$/)[0]+"?imageMogr/format/webp/thumbnail/!90x90r/gravity/Center/crop/90x90/"}}};window.onscroll=function(){};var F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ele-header"),t._v(" "),s("ele-search"),t._v(" "),s("div",{staticClass:"hotsearch"},[s("ul",t._l(t.hotsearch,function(e,a){return s("li",[t._v(t._s(e.search_word))])}))]),t._v(" "),s("div",{staticClass:"entries"},[0==t.entries.length?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1080 490"}},[s("defs",[s("path",{attrs:{id:"b",d:"M0 0h1080v489H0z"}}),t._v(" "),s("filter",{attrs:{id:"a",width:"200%",height:"200%",x:"-50%",y:"-50%",filterUnits:"objectBoundingBox"}},[s("feOffset",{attrs:{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}}),t._v(" "),s("feColorMatrix",{attrs:{in:"shadowOffsetOuter1",values:"0 0 0 0 0.933333333 0 0 0 0 0.933333333 0 0 0 0 0.933333333 0 0 0 1 0"}})],1)]),t._v(" "),s("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[s("g",[s("use",{attrs:{fill:"#000",filter:"url(#a)","xlink:href":"#b"}}),t._v(" "),s("use",{attrs:{fill:"#FFF","xlink:href":"#b"}})]),t._v(" "),s("g",{attrs:{fill:"#F6F6F6"}},[s("g",{attrs:{transform:"translate(76 36)"}},[s("path",{attrs:{d:"M9 139h100v34H9z"}}),t._v(" "),s("ellipse",{attrs:{cx:"59",cy:"59",rx:"59",ry:"59"}})]),t._v(" "),s("g",{attrs:{transform:"translate(346 36)"}},[s("path",{attrs:{d:"M9 139h100v34H9z"}}),s("ellipse",{attrs:{cx:"59",cy:"59",rx:"59",ry:"59"}})]),t._v(" "),s("g",{attrs:{transform:"translate(616 36)"}},[s("path",{attrs:{d:"M9 139h100v34H9z"}}),t._v(" "),s("ellipse",{attrs:{cx:"59",cy:"59",rx:"59",ry:"59"}})]),t._v(" "),s("g",{attrs:{transform:"translate(886 36)"}},[s("path",{attrs:{d:"M9 139h100v34H9z"}}),t._v(" "),s("ellipse",{attrs:{cx:"59",cy:"59",rx:"59",ry:"59"}})])]),t._v(" "),s("g",{attrs:{fill:"#F6F6F6"}},[s("g",{attrs:{transform:"translate(76 252)"}},[s("path",{attrs:{d:"M9 139h100v34H9z"}}),t._v(" "),s("ellipse",{attrs:{cx:"59",cy:"59",rx:"59",ry:"59"}})]),s("g",{attrs:{transform:"translate(346 252)"}},[s("path",{attrs:{d:"M9 139h100v34H9z"}}),s("ellipse",{attrs:{cx:"59",cy:"59",rx:"59",ry:"59"}})]),s("g",{attrs:{transform:"translate(616 252)"}},[s("path",{attrs:{d:"M9 139h100v34H9z"}}),s("ellipse",{attrs:{cx:"59",cy:"59",rx:"59",ry:"59"}})]),s("g",{attrs:{transform:"translate(886 252)"}},[s("path",{attrs:{d:"M9 139h100v34H9z"}}),s("ellipse",{attrs:{cx:"59",cy:"59",rx:"59",ry:"59"}})])])])]):t._e(),t._v(" "),s("mt-swipe",{staticClass:"mt",attrs:{auto:0}},t._l(t.entries,function(e,a){return s("mt-swipe-item",{key:a},t._l(e,function(e,a){return s("a",{key:a,attrs:{href:""}},[s("img",{attrs:{src:t._f("imgUrl")(e.image_hash)}}),t._v(" "),s("span",[t._v(t._s(e.name))])])}))}))],1),t._v(" "),s("section",{staticClass:"shop-title"},[t._v("\n\t\t\t推荐商家\n\t\t")]),t._v(" "),s("section",{staticClass:"shop-list"},t._l(t.restaurant,function(e,a){return s("section",{staticClass:"wrapper"},[s("div",{staticClass:"shop-info"},[s("div",{staticClass:"shop-logo"},[s("img",{attrs:{src:t._f("imgUrl")(e.image_path)}})]),t._v(" "),s("div",{staticClass:"shop-main"},[s("div",{staticClass:"title"},[s("h3",[t._v(t._s(e.name))]),t._v(" "),t._m(0,!0)]),t._v(" "),s("div",{staticClass:"rating"},[s("div",{staticClass:"ratingWrap"},[s("ele-star",{attrs:{score:e.rating,size:24}}),t._v(" "),s("span",[t._v(t._s(e.rating))]),t._v(" "),s("span",[t._v("月售"+t._s(e.recent_order_num)+"单")])],1),t._v(" "),t._m(1,!0)]),t._v(" "),s("div",{staticClass:"fee"},[t._m(2,!0),t._v(" "),s("div",{staticClass:"distance"},[s("span",{staticClass:"money-before"},[t._v(t._s((e.distance/1e3).toFixed(2))+"km")]),t._v(" "),s("span",[t._v(t._s(e.order_lead_time)+"分钟")])])])]),t._v(" "),s("div",{staticClass:"shop-activity"},[s("div",{staticClass:"activityBtn",on:{click:function(e){t.actClick(a)}}},[s("span",[t._v(t._s(e.activities.length)+"活动")]),t._v(" "),s("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjOTk5IiBkPSJNNC41NzcgNS40MjNjLjc5Ljc3IDIuMDczLjc2NyAyLjg1NyAwbDQuMTItNC4wMjZDMTIuMzQ1LjYyNSAxMi4wOSAwIDEwLjk4NSAwSDEuMDI3Qy0uMDc3IDAtLjMzLjYzLjQ1NyAxLjM5N2w0LjEyIDQuMDI2eiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"}})]),t._v(" "),t._m(3,!0),t._v(" "),t._l(e.activities,function(e,a){return s("div",{staticClass:"activities"},[s("span",{staticClass:"sub",style:{backgroundColor:"#"+e.icon_color}},[t._v(t._s(e.icon_name))]),t._v(" "),s("span",[t._v(t._s(e.description))])])})],2)])])})),t._v(" "),s("ele-tabbar")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",{staticClass:"adv"},[this._v("广告")]),this._v(" "),e("li",[this._v("票")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"deliver-mode"},[e("span",[this._v("蜂鸟专送")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"money"},[e("span",{staticClass:"money-before"},[this._v("¥15起送")]),this._v(" "),e("span",[this._v("优惠配送费¥3")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tag-line"},[e("img",{attrs:{src:"//fuss10.elemecdn.com/a/c1/24c767ffa7fd296d3e2d6f01798c6png.png?imageMogr/format/webp/thumbnail/!60x60r/gravity/Center/crop/60x60/"}}),this._v(" "),e("span",[this._v("口碑人气好店")])])}]};var z=s("VU/8")(k,F,!1,function(t){s("xilH")},null,null).exports,E={components:{"ele-tabbar":o}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n\t发现\n\t"),e("ele-tabbar")],1)},staticRenderFns:[]};var H=s("VU/8")(E,L,!1,function(t){s("tyZL")},"data-v-41df7a72",null).exports,j={components:{"ele-tabbar":o}},N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n\t订单\n\t"),e("ele-tabbar")],1)},staticRenderFns:[]};var B=s("VU/8")(j,N,!1,function(t){s("mkmH")},"data-v-6d8e63fc",null).exports,S={components:{"ele-tabbar":o}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("\n\t个人\n\t"),e("ele-tabbar")],1)},staticRenderFns:[]};var T=s("VU/8")(S,U,!1,function(t){s("ye00")},"data-v-15c11a8a",null).exports;a.default.use(r.a);var $=new r.a({routes:[{path:"/",redirect:"/msite"},{path:"/msite",component:z},{path:"/discover",component:H},{path:"/order",component:B},{path:"/profile",component:T}]});a.default.component(w.Swipe.name,w.Swipe),a.default.component(w.SwipeItem.name,w.SwipeItem),a.default.config.productionTip=!1,new a.default({el:"#app",router:$,components:{App:i},template:"<App/>"})},UVIr:function(t,e){},"bp+O":function(t,e){},"d8/S":function(t,e){},jah8:function(t,e){},mkmH:function(t,e){},tyZL:function(t,e){},xilH:function(t,e){},ye00:function(t,e){},z62K:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f96f396ff36065579528.js.map